@model RelatorioAlunosViewModel
@{
    ViewData["Title"] = "Alunos";
}

@section Styles{
    <style>
        .col-md-3 {
            margin-bottom: 15px;
        }
    </style>
}

<h2>Alunos Matriculados</h2>
<br /><br />
<div class="row">
    <div class="col-md-3">
        <ul class="list-group">
            <li class="list-group-item active">Alunos</li>
            <li class="list-group-item">
                <table class="table">
                    <thead class="thead-light">
                        <tr>
                            <th colspan="2">Total</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <th scope="row">Total Matrículas</th>
                            <td>@Model.TotalMatriculas</td>
                        </tr>
                        <tr>
                            <th scope="row">Total Alunos</th>
                            <td>@Model.TotalAlunosMatriculadso</td>
                        </tr>
                    </tbody>
                </table>
                <table class="table">
                    <thead class="thead-light">
                        <tr>
                            <th colspan="2">Alunos por matrícula</th>
                        </tr>
                    </thead>
                    <tbody>
                        @{
                            var maxMatricula = Model.Alunos.Max(a => a.Matriculas.Where(m => m.DispSalaId != null).ToList().Count);
                            for (var i = 1; i <= maxMatricula; i++)
                            {
                                <tr>
                                    <th scope="row">Com @i matrículas</th>
                                    <td>@(Model.Alunos.Where(a => a.Matriculas.Where(m => m.DispSalaId != null).ToList().Count == i).ToList().Count)</td>
                                </tr>
                            }
                        }
                    </tbody>
                </table>
            </li>
        </ul>
    </div>
</div>